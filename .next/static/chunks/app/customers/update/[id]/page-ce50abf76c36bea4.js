(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{4010:(e,t,r)=>{Promise.resolve().then(r.bind(r,801))},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},9832:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2818);async function a(e){let t=await fetch(s.env.NEXT_PUBLIC_ENDPOINT+"/customers?customer_id=".concat(e),{cache:"no-cache"});if(!t.ok)throw Error("Failed to fetch customer");return t.json()}},801:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),n=r(6046),c=r(9832);async function u(e){let t=e.get("customer_name"),r=JSON.stringify({customer_name:t,customer_id:e.get("customer_id"),age:parseInt(e.get("age")),gender:e.get("gender")});if(!(await fetch("http://localhost:8000/customers",{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:r})).ok)throw Error("Failed to update customer")}function d(e){let t=(0,a.use)(e.params),r=(0,n.useRouter)(),d=t.id,i=(0,a.useRef)(),[o,l]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{l(await (0,c.A)(d))})()},[]);let m=async e=>{e.preventDefault();let t=new FormData(i.current);await u(t),r.push("./".concat(t.get("customer_id"),"/confirm"))},p=o.customer_name,h=o.customer_id,f=o.age,b=o.gender;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"card bordered bg-white border-blue-200 border-2 max-w-md m-4",children:(0,s.jsx)("div",{className:"m-4 card bordered bg-blue-200 duration-200 hover:border-r-red",children:(0,s.jsxs)("form",{ref:i,onSubmit:m,children:[(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h2",{className:"card-title",children:(0,s.jsxs)("p",{children:[(0,s.jsx)("input",{type:"text",name:"customer_name",defaultValue:p,className:"input input-bordered"}),"さん"]})}),(0,s.jsxs)("p",{children:["Customer ID:",(0,s.jsx)("input",{type:"text",name:"customer_id",defaultValue:h,className:"input input-bordered"})]}),(0,s.jsxs)("p",{children:["Age:",(0,s.jsx)("input",{type:"number",name:"age",defaultValue:f,className:"input input-bordered"})]}),(0,s.jsxs)("p",{children:["Gender:",(0,s.jsx)("input",{type:"text",name:"gender",defaultValue:b,className:"input input-bordered"})]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{className:"btn btn-primary m-4 text-2xl",children:"更新"})})]})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(4010)),_N_E=e.O()}]);